spring:
  application:
    name: movk-backend

  # 默认激活开发环境，可通过启动参数覆盖
  # 使用: --spring.profiles.active=prod 切换到生产环境
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:16379}
      password: ${REDIS_PASSWORD:devpass@123}
      database: ${REDIS_DB:0}
      lettuce:
        pool:
          max-active: 100
          max-wait: 5000ms
          max-idle: 10
          min-idle: 1

  flyway:
    enabled: true
    # 数据库迁移脚本位置
    locations: classpath:db/migration
    # 是否在迁移前验证脚本
    validate-on-migrate: true
    # 是否允许跳过顺序检查
    out-of-order: false
    # 是否禁用自动清理
    clean-disabled: true
    # 是否在迁移前创建基准版本
    baseline-on-migrate: true
    # 基准版本
    baseline-version: 0

server:
  port: 36600
  servlet:
    context-path: /api

security:
  password:
    encoder: bcrypt
    strength: 10

app:
  cors:
    allowed-origins: []
