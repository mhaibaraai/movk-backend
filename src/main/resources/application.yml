spring:
  application:
    name: movk-backend

  # 默认激活开发环境，可通过启动参数覆盖
  # 使用: --spring.profiles.active=prod 切换到生产环境
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}
    database: ${REDIS_DB:0}

  mail:
    host: ${MAIL_HOST:localhost}
    port: ${MAIL_PORT:1025}
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

  security:
    oauth2:
      client:
        registration:
          github:
            client-id: ${GITHUB_CLIENT_ID:}
            client-secret: ${GITHUB_CLIENT_SECRET:}
            scope: read:user,user:email
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
        provider:
          github:
            authorization-uri: https://github.com/login/oauth/authorize
            token-uri: https://github.com/login/oauth/access_token
            user-info-uri: https://api.github.com/user

server:
  port: 36600
  servlet:
    context-path: /api

security:
  jwt:
    issuer: movk-backend
    secret: ${JWT_SECRET:change-me-in-prod}
    accessTtlMinutes: 15
    refreshTtlDays: 7

springdoc:
  api-docs:
    enabled: true
  swagger-ui:
    enabled: true
